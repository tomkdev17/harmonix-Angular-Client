{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"../fetch-api-data.service\";\nimport * as i4 from \"../auth.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/card\";\nexport class DeleteAccountComponent {\n  constructor(dialogRef, snackbar, fetchApiData, authService, router) {\n    this.dialogRef = dialogRef;\n    this.snackbar = snackbar;\n    this.fetchApiData = fetchApiData;\n    this.authService = authService;\n    this.router = router;\n    this.username = null;\n  }\n  ngOnInit() {\n    this.username = localStorage.getItem('username');\n  }\n  bybyUser() {\n    this.fetchApiData.deleteUser(this.username).subscribe(() => {\n      this.snackbar.open('Account successfully deleted.', 'OK', {\n        duration: 3000\n      });\n      this.authService.logout();\n      localStorage.clear();\n      this.router.navigate(['welcome']);\n    }, error => {\n      this.snackbar.open('Failed to delete account', 'OK', {\n        duration: 3000\n      });\n      console.error('Error deleting user', error);\n    });\n  }\n  closeDialog() {\n    this.dialogRef.close();\n  }\n  static {\n    this.ɵfac = function DeleteAccountComponent_Factory(t) {\n      return new (t || DeleteAccountComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.FetchApiDataService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DeleteAccountComponent,\n      selectors: [[\"app-delete-account\"]],\n      decls: 10,\n      vars: 0,\n      consts: [[\"mat-raised-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"]],\n      template: function DeleteAccountComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"mat-card\")(1, \"mat-card-header\");\n          i0.ɵɵtext(2, \"Are you sure that you want to delete your account?\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"mat-card-content\")(4, \"p\");\n          i0.ɵɵtext(5, \"This will permanently remove your account from our database. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"button\", 0);\n          i0.ɵɵlistener(\"click\", function DeleteAccountComponent_Template_button_click_6_listener() {\n            return ctx.bybyUser();\n          });\n          i0.ɵɵtext(7, \" Yes \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"button\", 1);\n          i0.ɵɵlistener(\"click\", function DeleteAccountComponent_Template_button_click_8_listener() {\n            return ctx.closeDialog();\n          });\n          i0.ɵɵtext(9, \" No \");\n          i0.ɵɵelementEnd()()();\n        }\n      },\n      dependencies: [i6.MatButton, i7.MatCard, i7.MatCardContent, i7.MatCardHeader],\n      styles: [\"mat-card[_ngcontent-%COMP%] {\\n  text-align: center;\\n  justify-content: center;\\n}\\n\\nmat-card-header[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGVsZXRlLWFjY291bnQvZGVsZXRlLWFjY291bnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLHVCQUFBO0FBQ0o7O0FBQ0E7RUFDRyxpQkFBQTtBQUVIOztBQUFBO0VBQ0ksa0JBQUE7QUFHSiIsInNvdXJjZXNDb250ZW50IjpbIm1hdC1jYXJkIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5tYXQtY2FyZC1oZWFkZXIge1xuICAgZm9udC13ZWlnaHQ6IGJvbGQ7ICBcbn1cbmJ1dHRvbiB7XG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["DeleteAccountComponent","constructor","dialogRef","snackbar","fetchApiData","authService","router","username","ngOnInit","localStorage","getItem","bybyUser","deleteUser","subscribe","open","duration","logout","clear","navigate","error","console","closeDialog","close","i0","ɵɵdirectiveInject","i1","MatDialogRef","i2","MatSnackBar","i3","FetchApiDataService","i4","AuthService","i5","Router","selectors","decls","vars","consts","template","DeleteAccountComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","DeleteAccountComponent_Template_button_click_6_listener","DeleteAccountComponent_Template_button_click_8_listener"],"sources":["/Users/Tommy_1/Documents/Development/CareerFoundry/harmonix-Angular-Client/src/app/delete-account/delete-account.component.ts","/Users/Tommy_1/Documents/Development/CareerFoundry/harmonix-Angular-Client/src/app/delete-account/delete-account.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router } from '@angular/router';\nimport { FetchApiDataService } from '../fetch-api-data.service';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-delete-account',\n  templateUrl: './delete-account.component.html',\n  styleUrls: ['./delete-account.component.scss']\n})\n\nexport class DeleteAccountComponent {\n\n  username: any | null = null; \n\n  constructor(\n    public dialogRef: MatDialogRef<DeleteAccountComponent>, \n    public snackbar: MatSnackBar, \n    private fetchApiData: FetchApiDataService,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit() : void {\n    this.username = localStorage.getItem('username');\n  }\n\n  bybyUser(): void {\n    this.fetchApiData.deleteUser(this.username).subscribe(\n      () => {\n      this.snackbar.open('Account successfully deleted.', 'OK', {\n        duration: 3000\n      });\n      this.authService.logout();\n      localStorage.clear();\n      this.router.navigate(['welcome'])\n    }, (error) => {\n      this.snackbar.open('Failed to delete account', 'OK', {\n        duration: 3000\n      });\n      console.error('Error deleting user', error);\n    }\n    ); \n  }\n\n  closeDialog(): void {\n    this.dialogRef.close();\n  }\n}\n\n\n","<mat-card>\n    <mat-card-header>Are you sure that you want to delete your account?</mat-card-header>\n    <mat-card-content>\n        \n        <p>This will permanently remove your account from our database. </p>\n\n        <button \n            (click)=\"bybyUser()\"\n            mat-raised-button\n            color=\"warn\"    \n        >\n            Yes\n        </button>\n        <button \n            (click)=\"closeDialog()\"\n            mat-raised-button\n            color=\"primary\"\n        >\n            No\n        </button>\n    </mat-card-content>\n</mat-card>\n"],"mappings":";;;;;;;;AAaA,OAAM,MAAOA,sBAAsB;EAIjCC,YACSC,SAA+C,EAC/CC,QAAqB,EACpBC,YAAiC,EACjCC,WAAwB,EACxBC,MAAc;IAJf,KAAAJ,SAAS,GAATA,SAAS;IACT,KAAAC,QAAQ,GAARA,QAAQ;IACP,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAPhB,KAAAC,QAAQ,GAAe,IAAI;EAQxB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACD,QAAQ,GAAGE,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EAClD;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACP,YAAY,CAACQ,UAAU,CAAC,IAAI,CAACL,QAAQ,CAAC,CAACM,SAAS,CACnD,MAAK;MACL,IAAI,CAACV,QAAQ,CAACW,IAAI,CAAC,+BAA+B,EAAE,IAAI,EAAE;QACxDC,QAAQ,EAAE;OACX,CAAC;MACF,IAAI,CAACV,WAAW,CAACW,MAAM,EAAE;MACzBP,YAAY,CAACQ,KAAK,EAAE;MACpB,IAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC,EAAGC,KAAK,IAAI;MACX,IAAI,CAAChB,QAAQ,CAACW,IAAI,CAAC,0BAA0B,EAAE,IAAI,EAAE;QACnDC,QAAQ,EAAE;OACX,CAAC;MACFK,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC7C,CAAC,CACA;EACH;EAEAE,WAAWA,CAAA;IACT,IAAI,CAACnB,SAAS,CAACoB,KAAK,EAAE;EACxB;;;uBApCWtB,sBAAsB,EAAAuB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,YAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,WAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,mBAAA,GAAAP,EAAA,CAAAC,iBAAA,CAAAO,EAAA,CAAAC,WAAA,GAAAT,EAAA,CAAAC,iBAAA,CAAAS,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAAtBlC,sBAAsB;MAAAmC,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCbnClB,EAAA,CAAAoB,cAAA,eAAU;UACWpB,EAAA,CAAAqB,MAAA,yDAAkD;UAAArB,EAAA,CAAAsB,YAAA,EAAkB;UACrFtB,EAAA,CAAAoB,cAAA,uBAAkB;UAEXpB,EAAA,CAAAqB,MAAA,oEAA6D;UAAArB,EAAA,CAAAsB,YAAA,EAAI;UAEpEtB,EAAA,CAAAoB,cAAA,gBAIC;UAHGpB,EAAA,CAAAuB,UAAA,mBAAAC,wDAAA;YAAA,OAASL,GAAA,CAAA/B,QAAA,EAAU;UAAA,EAAC;UAIpBY,EAAA,CAAAqB,MAAA,YACJ;UAAArB,EAAA,CAAAsB,YAAA,EAAS;UACTtB,EAAA,CAAAoB,cAAA,gBAIC;UAHGpB,EAAA,CAAAuB,UAAA,mBAAAE,wDAAA;YAAA,OAASN,GAAA,CAAArB,WAAA,EAAa;UAAA,EAAC;UAIvBE,EAAA,CAAAqB,MAAA,WACJ;UAAArB,EAAA,CAAAsB,YAAA,EAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}