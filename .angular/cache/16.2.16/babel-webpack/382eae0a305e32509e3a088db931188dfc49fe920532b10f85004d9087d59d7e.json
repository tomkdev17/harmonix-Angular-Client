{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../fetch-api-data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../song-card/song-card.component\";\nfunction MainViewComponent_app_song_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-song-card\", 2);\n  }\n  if (rf & 2) {\n    const song_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"song\", song_r1)(\"isFavorite\", ctx_r0.isFavorite)(\"user\", ctx_r0.user)(\"favs\", ctx_r0.favs);\n  }\n}\nexport class MainViewComponent {\n  constructor(fetchApiData) {\n    this.fetchApiData = fetchApiData;\n    this.songs = [];\n    this.favs = [];\n    this.username = null;\n    this.user = null;\n  }\n  ngOnInit() {\n    this.username = localStorage.getItem('username');\n    this.getUser();\n    this.getSongs();\n  }\n  getUser() {\n    this.fetchApiData.getUser(this.username).subscribe(res => {\n      this.user = res;\n      this.favs = this.user.Favorites;\n      console.log(\"user: \", this.user);\n    });\n  }\n  isFavorite(songId) {\n    return this.favs.includes(songId) ? true : false;\n  }\n  getSongs() {\n    this.fetchApiData.getAllSongs().subscribe(resp => {\n      this.songs = resp;\n      console.log(this.songs);\n      return this.songs;\n    });\n  }\n  static {\n    this.ɵfac = function MainViewComponent_Factory(t) {\n      return new (t || MainViewComponent)(i0.ɵɵdirectiveInject(i1.FetchApiDataService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MainViewComponent,\n      selectors: [[\"app-main-view\"]],\n      decls: 2,\n      vars: 1,\n      consts: [[1, \"song-display\"], [3, \"song\", \"isFavorite\", \"user\", \"favs\", 4, \"ngFor\", \"ngForOf\"], [3, \"song\", \"isFavorite\", \"user\", \"favs\"]],\n      template: function MainViewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, MainViewComponent_app_song_card_1_Template, 1, 4, \"app-song-card\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.songs);\n        }\n      },\n      dependencies: [i2.NgForOf, i3.SongCardComponent],\n      styles: [\".song-display[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(4, 1fr);\\n  gap: 10px;\\n  padding: 25px;\\n  margin: auto;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n@media (max-width: 1300px) {\\n  .song-display[_ngcontent-%COMP%] {\\n    grid-template-columns: repeat(3, 1fr);\\n  }\\n}\\n@media (max-width: 1000px) {\\n  .song-display[_ngcontent-%COMP%] {\\n    grid-template-columns: repeat(2, 1fr);\\n  }\\n}\\n@media (max-width: 675px) {\\n  .song-display[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFpbi12aWV3L21haW4tdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDRSxxQ0FBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxzQkFBQTtBQUNOOztBQUVFO0VBQ0k7SUFDRSxxQ0FBQTtFQUNOO0FBQ0Y7QUFFSTtFQUNFO0lBQ0UscUNBQUE7RUFBTjtBQUNGO0FBR0k7RUFDRTtJQUNFLDBCQUFBO0VBRE47QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5zb25nLWRpc3BsYXkge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg0LCAxZnIpO1xuICAgICAgZ2FwOiAxMHB4O1xuICAgICAgcGFkZGluZzogMjVweDtcbiAgICAgIG1hcmdpbjogYXV0bzsgXG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cbiAgXG4gIEBtZWRpYSAobWF4LXdpZHRoOiAxMzAwcHgpIHtcbiAgICAgIC5zb25nLWRpc3BsYXkge1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpOyBcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDEwMDBweCkge1xuICAgICAgLnNvbmctZGlzcGxheSB7XG4gICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7IFxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNjc1cHgpIHtcbiAgICAgIC5zb25nLWRpc3BsYXkge1xuICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsgXG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelement","ɵɵproperty","song_r1","ctx_r0","isFavorite","user","favs","MainViewComponent","constructor","fetchApiData","songs","username","ngOnInit","localStorage","getItem","getUser","getSongs","subscribe","res","Favorites","console","log","songId","includes","getAllSongs","resp","ɵɵdirectiveInject","i1","FetchApiDataService","selectors","decls","vars","consts","template","MainViewComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtemplate","MainViewComponent_app_song_card_1_Template","ɵɵelementEnd","ɵɵadvance"],"sources":["/Users/Tommy_1/Documents/Development/CareerFoundry/harmonix-Angular-Client/src/app/main-view/main-view.component.ts","/Users/Tommy_1/Documents/Development/CareerFoundry/harmonix-Angular-Client/src/app/main-view/main-view.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FetchApiDataService } from '../fetch-api-data.service'; \n\n\n@Component({\n  selector: 'app-main-view',\n  templateUrl: './main-view.component.html',\n  styleUrls: ['./main-view.component.scss']\n})\nexport class MainViewComponent {\n\n  songs: any[] = [];\n  favs: any[] = [];\n  username: any | null = null;\n  user: any = null;\n   \n\n  constructor(\n    public fetchApiData: FetchApiDataService\n  ) {}\n\n  ngOnInit(): void {\n    this.username = localStorage.getItem('username');\n    this.getUser();\n    this.getSongs();\n  }\n\n  getUser(): void {\n    this.fetchApiData.getUser(this.username).subscribe(res => {\n      this.user = res;\n      this.favs = this.user.Favorites\n      console.log(\"user: \", this.user);\n    })\n  }\n  isFavorite(songId: string): boolean {\n    return this.favs.includes(songId) ? true : false ; \n  }\n\n  getSongs(): void {\n    this.fetchApiData.getAllSongs().subscribe((resp: any) => {\n      this.songs = resp;\n      console.log(this.songs);\n      return this.songs; \n    });\n  }\n}\n","<div class=\"song-display\">\n    <app-song-card\n        *ngFor=\"let song of songs\"\n        [song]=\"song\"\n        [isFavorite]=\"isFavorite\"\n        [user]=\"user\"\n        [favs]=\"favs\"   \n    >\n    </app-song-card>\n</div>\n"],"mappings":";;;;;;ICCIA,EAAA,CAAAC,SAAA,uBAOgB;;;;;IALZD,EAAA,CAAAE,UAAA,SAAAC,OAAA,CAAa,eAAAC,MAAA,CAAAC,UAAA,UAAAD,MAAA,CAAAE,IAAA,UAAAF,MAAA,CAAAG,IAAA;;;ADMrB,OAAM,MAAOC,iBAAiB;EAQ5BC,YACSC,YAAiC;IAAjC,KAAAA,YAAY,GAAZA,YAAY;IAPrB,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAJ,IAAI,GAAU,EAAE;IAChB,KAAAK,QAAQ,GAAe,IAAI;IAC3B,KAAAN,IAAI,GAAQ,IAAI;EAKb;EAEHO,QAAQA,CAAA;IACN,IAAI,CAACD,QAAQ,GAAGE,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAChD,IAAI,CAACC,OAAO,EAAE;IACd,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAD,OAAOA,CAAA;IACL,IAAI,CAACN,YAAY,CAACM,OAAO,CAAC,IAAI,CAACJ,QAAQ,CAAC,CAACM,SAAS,CAACC,GAAG,IAAG;MACvD,IAAI,CAACb,IAAI,GAAGa,GAAG;MACf,IAAI,CAACZ,IAAI,GAAG,IAAI,CAACD,IAAI,CAACc,SAAS;MAC/BC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAChB,IAAI,CAAC;IAClC,CAAC,CAAC;EACJ;EACAD,UAAUA,CAACkB,MAAc;IACvB,OAAO,IAAI,CAAChB,IAAI,CAACiB,QAAQ,CAACD,MAAM,CAAC,GAAG,IAAI,GAAG,KAAK;EAClD;EAEAN,QAAQA,CAAA;IACN,IAAI,CAACP,YAAY,CAACe,WAAW,EAAE,CAACP,SAAS,CAAEQ,IAAS,IAAI;MACtD,IAAI,CAACf,KAAK,GAAGe,IAAI;MACjBL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,KAAK,CAAC;MACvB,OAAO,IAAI,CAACA,KAAK;IACnB,CAAC,CAAC;EACJ;;;uBAnCWH,iBAAiB,EAAAR,EAAA,CAAA2B,iBAAA,CAAAC,EAAA,CAAAC,mBAAA;IAAA;EAAA;;;YAAjBrB,iBAAiB;MAAAsB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCT9BpC,EAAA,CAAAsC,cAAA,aAA0B;UACtBtC,EAAA,CAAAuC,UAAA,IAAAC,0CAAA,2BAOgB;UACpBxC,EAAA,CAAAyC,YAAA,EAAM;;;UAPmBzC,EAAA,CAAA0C,SAAA,GAAQ;UAAR1C,EAAA,CAAAE,UAAA,YAAAmC,GAAA,CAAA1B,KAAA,CAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}